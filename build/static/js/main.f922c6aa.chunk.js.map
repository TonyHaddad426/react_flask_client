{"version":3,"sources":["components/Admin/AdminForms/AdminForm.module.css","components/Modal.module.css","components/Authentication/AuthForm.module.css","components/User/UserForm/UserForm.module.css","components/Admin/ListAdminForms.module.css","components/Filter.module.css","components/User/ListItems.module.css","components/Card.module.css","components/Spinner.module.css","components/Item.js","components/Filter.js","components/Items.js","components/Store/Auth-Context.js","components/User/UserForm/UserForm.js","components/Card.js","components/ErrorModal.js","components/User/ListItems.js","components/Admin/AdminForms/AddItemForm.js","components/Admin/AdminForms/AddStoreForm.js","components/Admin/ListAdminForms.js","components/MainHeader.js","components/Spinner.js","components/Authentication/AuthForm.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Item","props","useState","className","store","title","amount","Filter","classes","filter","filter__control","value","selected","onChange","event","onChangeFilter","target","Items","logoutTimer","priceFilter","setPriceFiler","console","log","filteredItems","items","sort","a","b","item_price","selectedPriceFilter","map","item","store_name","item_name","store_id","UserForm","enteredStore","setEnteredStore","enteredItem","setEnteredItem","onSubmit","preventDefault","requestBody","onFetchUserData","user__controls","userfilter","user__control","name","stores","type","user__actions","Card","card","children","ErrorModal","backdrop","onClick","setError","modal","header","content","h1","message","actions","ListItems","displayErrorModal","error","user","storeNameList","data","onAddItems","AddItemForm","enteredItemPrice","setEnteredItemPrice","key","parseFloat","createItemHandler","AddStoreForm","createStoreHandler","ListAdminForms","updateStoreListHandler","AuthContext","React","createContext","token","isLoggedIn","login","logout","AuthContextProvider","initialToken","localStorage","getItem","setToken","useCallback","removeItem","clearTimeout","useEffect","timeLeft","Date","now","setTimeout","context","deadLine","setItem","Provider","MainHeader","authCtx","useContext","history","useHistory","activeClassName","exact","to","replace","Spinner","loader","AuthForm","usernameInputRef","useRef","passwordInputRef","isLogin","setIsLogin","isLoading","setIsLoading","switchAuthModeHandler","prevState","errorHandler","auth","enteredUsername","current","enteredPassword","fetch","method","body","JSON","stringify","username","password","headers","then","response","json","description","Error","access_token","catch","err","alert","control","htmlFor","id","required","ref","toggle","App","setItems","storeDropdownList","setStoreDropdownList","isStoreListUpdated","setIsStoreListUpdated","path","arr","trim","length","push","Authorization","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f922c6aa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__controls\":\"AdminForm_user__controls__3SEI0\",\"user__control\":\"AdminForm_user__control__3mEQa\",\"user__actions\":\"AdminForm_user__actions__waq-P\",\"userfilter\":\"AdminForm_userfilter__hne3n\",\"userfilter__control\":\"AdminForm_userfilter__control__33l2N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__3R4ST\",\"modal\":\"Modal_modal__2n0zs\",\"header\":\"Modal_header__3txAo\",\"h1\":\"Modal_h1__2T5Z-\",\"content\":\"Modal_content__1Hi1R\",\"actions\":\"Modal_actions__3l-__\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__1hc7W\",\"title\":\"AuthForm_title__ILitH\",\"control\":\"AuthForm_control__2-Hj8\",\"actions\":\"AuthForm_actions__ITi_n\",\"toggle\":\"AuthForm_toggle__2F34R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__controls\":\"UserForm_user__controls__1JAKX\",\"user__control\":\"UserForm_user__control__39nSD\",\"user__actions\":\"UserForm_user__actions__2hXiv\",\"userfilter\":\"UserForm_userfilter__aC7rv\",\"userfilter__control\":\"UserForm_userfilter__control__h8FQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"ListAdminForms_user__3j_k1\",\"title\":\"ListAdminForms_title__R786o\",\"alternative\":\"ListAdminForms_alternative__1Miow\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__2AQ0O\",\"filter__control\":\"Filter_filter__control__2ydhy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"ListItems_user__SpPyk\",\"title\":\"ListItems_title__2rz1F\",\"alternative\":\"ListItems_alternative__26t3N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3F8np\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__350wo\",\"load8\":\"Spinner_load8__VmWFc\"};","import React, { useState } from \"react\";\nimport \"./Item.css\";\n\nfunction Item(props) {\n  // changes to state cause child components to be rendered / updated again\n  useState(); // useState is a React hook that returns an array\n\n  return (\n    <div className=\"item\">\n      <div>{props.store}</div>\n      <div className=\"item__description\">\n        <h2>{props.title}</h2>\n        <div className=\"item__price\">${props.amount}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default Item;\n","import React from 'react'\nimport classes from './Filter.module.css' \n\nconst Filter = (props) => {\n    const dropDownChangedHandler = (event) => {\n        props.onChangeFilter(event.target.value)\n    }\n\n    return (\n        <div className={classes.filter}>\n          <div className={classes.filter__control}>\n            <label>Sort by Price</label>\n            <select value={props.selected} onChange={dropDownChangedHandler}>\n              <option value='Desc'>High to Low</option>\n              <option value='Asc'>Low to High</option>\n            </select>\n          </div>\n        </div>\n      );\n}\n\nexport default Filter; ","import React, {useState} from 'react'\nimport Item from \"./Item\";\nimport \"./Items.css\";\nimport Filter from './Filter'\nfunction Items(props) {\n    const [priceFilter, setPriceFiler] = useState('')\n    const priceFilterChangedHandler = (selectedPriceFilter) => {\n        setPriceFiler(selectedPriceFilter)\n    }\n    console.log(priceFilter)\n    let filteredItems = props.items;\n\n    if (priceFilter === \"Asc\") {\n       filteredItems = props.items.sort((a,b) => a.item_price - b.item_price)\n    } \n    if (priceFilter === \"Desc\") {\n        filteredItems =  props.items.sort((a,b) => b.item_price - a.item_price)\n    } \n    \n    \n  return (\n    <div className=\"items\">\n        <Filter selected ={priceFilter} onChangeFilter={priceFilterChangedHandler}/>\n      {\n        /* the map method takes an array and executes a function on each item within that array */\n        filteredItems.map((item) => (\n          <Item\n            key={item.store_id+item.item_name}\n            store={item.store_name}\n            title={item.item_name}\n            amount={item.item_price}\n          />\n        ))\n      }\n    </div>\n  );\n}\n\nexport default Items;\n","import React, { useCallback, useEffect, useState } from 'react';\n \nlet logoutTimer;\n \nconst AuthContext = React.createContext({\n  token: '',\n  isLoggedIn: false,\n  login: token => { },\n  logout: () => { }\n});\n \nexport const AuthContextProvider = props => {\n  const initialToken = localStorage.getItem('token');\n  const [token, setToken] = useState(initialToken);\n \n  const isLoggedIn = !!token;\n \n  const login = (token, deadLine) => {\n    localStorage.setItem('token', token);\n    localStorage.setItem('deadLine', deadLine);\n    logoutTimer = setTimeout(logout, deadLine - Date.now());\n    setToken(token);\n  };\n \n  const logout = useCallback(() => {\n    setToken(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('deadLine');\n    clearTimeout(logoutTimer);\n  }, []);\n \n  useEffect(() => {\n    if (token) {\n      let timeLeft = localStorage.getItem('deadLine') - Date.now();\n      if (timeLeft < 6000) timeLeft = 0;\n      logoutTimer = setTimeout(logout, timeLeft);\n      console.log(\"Time left in user session: \", timeLeft)\n    }\n    \n  }, [token, logout])\n \n  const context = {\n    token,\n    isLoggedIn,\n    login,\n    logout\n  };\n \n  return (\n    <AuthContext.Provider value={context} >\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n \nexport default AuthContext;","import React, { useState } from \"react\";\nimport classes from \"./UserForm.module.css\";\n\nconst UserForm = (props) => {\n  const [enteredStore, setEnteredStore] = useState(\"\");\n  const [enteredItem, setEnteredItem] = useState(\"\");\n  // console.log(props.stores[0].store_name);\n  const storeInputHandler = (event) => {\n    setEnteredStore(event.target.value);\n  };\n\n  const itemInputHandler = (event) => {\n    setEnteredItem(event.target.value);\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault(); // prevents default of request being seint.. which makes sure the page doesn't reload prematurely\n\n    const requestBody = {\n      store: enteredStore,\n      item: enteredItem,\n    };\n    console.log(\"Request Body: \", requestBody);\n    props.onFetchUserData(requestBody);\n    setEnteredStore(\"\");\n    setEnteredItem(\"\");\n  };\n\n  return (\n    <form onSubmit={submitHandler}>\n      <div className={classes.user__controls}>\n        <div className={classes.userfilter}>\n          <div className={classes.user__control}>\n            <label>Store</label>\n            <select name=\"Store\" value={enteredStore} onChange={storeInputHandler}>\n              <option value={null}>All Stores</option>\n              {\n                /* the map method takes an array and executes a function on each item within that array */\n                props.stores.map((store) => (\n                  <option key={store.store_id} value={store.store_name}>{store.store_name}</option>\n                ))\n              }\n            </select>\n          </div>\n       </div>\n        <div className={classes.user__control}>\n          <label>Item</label>\n          <input type=\"text\" value={enteredItem} onChange={itemInputHandler} />\n        </div>\n      </div>\n      <div className={classes.user__actions}>\n        <button type=\"submit\">Search</button>\n      </div>\n    </form>\n  );\n};\n\nexport default UserForm;\n","import React from 'react' \nimport classes from './Card.module.css'\nconst Card = props => {\n\nreturn <div className={classes.card}>\n    {props.children}\n</div>\n}\n\nexport default Card","import React from \"react\";\nimport Card from \"./Card\";\nimport classes from \"./Modal.module.css\";\n\n\nconst ErrorModal = (props) => {\n  return (\n    <div className={classes.backdrop} onClick={props.setError}>\n      <Card className={classes.modal}>\n        <header className={classes.header}>\n          <h2>Something went wrong:</h2>\n        </header>\n        <div className={classes.content}>\n          <p className={classes.h1}>{props.message}</p>\n        </div>\n        <footer className={classes.actions}>\n          <button type=\"submit\" onClick={props.setError}>Okay</button>\n        </footer>\n      </Card>\n    </div>\n  );\n};\n\nexport default ErrorModal;\n","import React from \"react\";\nimport UserForm from \"./UserForm/UserForm\";\nimport classes from \"./ListItems.module.css\";\nimport ErrorModal from \"../ErrorModal\";\n\nconst ListItems = (props) => {\n  // the requestBody data is passed up to this component via the props sent to the UserForm component\n  const saveUserResponseData = (requestBody) => {\n    const data = {\n      ...requestBody,\n    };\n    // here we are passing the request body data, to be sent to the Flask backend server, up to the App.js file\n    props.onAddItems(data);\n  };\n\n  let displayErrorModal;\n\n  if (props.error) {\n    displayErrorModal = <ErrorModal setError={props.setError} message={props.error}></ErrorModal>;\n  } else {\n    displayErrorModal = null;\n  }\n\n  return (\n    <div>\n      {displayErrorModal}\n      <div>\n        <h1 className={classes.title}>\n          Search for items in a store\n        </h1>\n        <div className={classes.user}>\n          <UserForm\n            stores={props.storeNameList}\n            onFetchUserData={saveUserResponseData}\n          ></UserForm>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ListItems;\n","import React, { useState } from \"react\";\nimport classes from \"./AdminForm.module.css\";\n\nconst AddItemForm = (props) => {\n  const [enteredStore, setEnteredStore] = useState(\"\");\n  const [enteredItem, setEnteredItem] = useState(\"\");\n  const [enteredItemPrice, setEnteredItemPrice] = useState(\"\");\n\n  const storeInputHandler = (event) => {\n    setEnteredStore(event.target.value);\n  };\n\n  const itemInputHandler = (event) => {\n    setEnteredItem(event.target.value);\n  };\n\n  const itemPriceInputHandler = (event) => {\n    setEnteredItemPrice(event.target.value);\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault(); // prevents default of request being seint.. which makes sure the page doesn't reload prematurely\n\n    let store = enteredStore;\n    if (enteredStore == \"\") {\n      store = props.stores[0].store_name;\n    }\n    let store_id;\n    for (let key in props.stores) {\n      console.log(props.stores[key].store_name)\n      if (props.stores[key].store_name === store) {\n          store_id = props.stores[key].store_id\n      }\n    }\n\n    const requestBody = {\n      store: store,\n      store_id: store_id,\n      item: enteredItem,\n      item_price: parseFloat(enteredItemPrice),\n    };\n    console.log(\"Request Body: \", requestBody);\n    props.createItemHandler(requestBody);\n    setEnteredStore(\"\");\n    setEnteredItem(\"\");\n    setEnteredItemPrice(\"\");\n  };\n  return (\n    <form onSubmit={submitHandler}>\n      <div className={classes.user__controls}>\n        <div className={classes.userfilter}>\n          <div className={classes.user__control}>\n            <label>Pick Store</label>\n            <select\n              name=\"Store\"\n              value={enteredStore}\n              onChange={storeInputHandler}\n            >\n              {\n                /* the map method takes an array and executes a function on each item within that array */\n                props.stores.map((store) => (\n                  <option key={store.store_id} value={store.store_name}>\n                    {store.store_name}\n                  </option>\n                ))\n              }\n            </select>\n          </div>\n        </div>\n        <div className={classes.user__control}>\n          <label>New Item</label>\n          <input type=\"text\" value={enteredItem} onChange={itemInputHandler} />\n        </div>\n        <div className={classes.user__control}>\n          <label>New Item Price</label>\n          <input\n            type=\"text\"\n            value={enteredItemPrice}\n            onChange={itemPriceInputHandler}\n          />\n        </div>\n      </div>\n      <div className={classes.user__actions}>\n        <button type=\"submit\">Add Item</button>\n      </div>\n    </form>\n  );\n};\nexport default AddItemForm;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport classes from \"./AdminForm.module.css\";\n\nconst AddStoreForm = (props) => {\n  const [enteredStore, setEnteredStore] = useState(\"\");\n\n\n\n  const storeInputHandler = (event) => {\n    setEnteredStore(event.target.value);\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault(); // prevents default of request being sent.. which makes sure the page doesn't reload prematurely\n    let store = enteredStore;\n\n    const requestBody = {\n      store: store,\n    };\n    console.log(\"Request Body: \", requestBody);\n    props.createStoreHandler(requestBody); // createStoreHandler must be passed down from App.js\n    setEnteredStore(\"\");\n\n\n\n  };\n\n\n\n\n  return (\n    <form onSubmit={submitHandler}>\n      <div className={classes.user__controls}>\n        <div className={classes.userfilter}>\n        <div className={classes.user__control}>\n          <label>New Store</label>\n          <input\n            type=\"text\"\n            value={enteredStore}\n            onChange={storeInputHandler}\n          />\n          </div>\n        </div>\n      </div>\n      <div className={classes.user__actions}>\n        <button type=\"submit\">Add Store</button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddStoreForm;\n","import React from \"react\";\nimport AddItemForm from \"./AdminForms/AddItemForm\";\nimport AddStoreForm from \"./AdminForms/AddStoreForm\";\nimport classes from \"./ListAdminForms.module.css\";\nimport ErrorModal from \"../ErrorModal\"\n\nconst ListAdminForms = (props) => {\n  // the requestBody data is passed up to this component via the props sent to the UserForm component\n  const saveAdminItemResponseData = (requestBody) => {\n    const data = {\n      ...requestBody,\n    };\n    // here we are passing the request body data, to be sent to the Flask backend server, up to the App.js file\n    props.createItemHandler(data);\n  };\n\n  const saveAdminStoreResponseData = (requestBody) => {\n    const data = {\n      ...requestBody,\n    };\n    // here we are passing the request body data, to be sent to the Flask backend server, up to the App.js file\n    props.createStoreHandler(data);\n  };\n\n  let displayErrorModal;\n\n  if (props.error) {\n    displayErrorModal = <ErrorModal setError={props.setError} message={props.error}></ErrorModal>;\n  } else {\n    displayErrorModal = null;\n  }\n\n  return (\n    <div>\n      {displayErrorModal}\n       <h1 className={classes.title}>Add an item to an existing store</h1>\n      <div className={classes.user}>\n     \n        <AddItemForm\n          stores={props.stores}\n          createItemHandler={saveAdminItemResponseData}\n        ></AddItemForm>\n      </div>\n      <h1 className={classes.title}>Add a new store</h1>\n      <div className={classes.user}>\n        <AddStoreForm\n        \n          setError={props.setError}\n          updateStoreListHandler={props.updateStoreListHandler}\n          createStoreHandler={saveAdminStoreResponseData}\n        ></AddStoreForm>\n      </div>\n    </div>\n  );\n};\n\nexport default ListAdminForms;\n","import \"./MainHeader.css\";\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport AuthContext from \"./Store/Auth-Context\";\n// the Link component listens to clicks on the link and prevents the browser from reloading / sending a server request whenever navigating links\nconst MainHeader = () => {\n  const authCtx = useContext(AuthContext);\n  const isLoggedIn = authCtx.isLoggedIn; // stores whether the user is logged in or not\n  const history = useHistory(); \n\n  const logoutHandler = () => {\n    authCtx.logout()\n    history.replace('/')\n  }\n\n  return (\n    <header className=\"header\">\n      <nav>\n        {!isLoggedIn && (\n          <ul>\n            <li>\n              <NavLink activeClassName={\"active\"} exact to=\"/\">\n                Search\n              </NavLink>\n            </li>\n            <li>\n              <NavLink activeClassName={\"active\"} to=\"/login\">\n                Login\n              </NavLink>\n            </li>\n          </ul>\n        )}\n\n        {isLoggedIn && (\n          <ul>\n            <li>\n              <NavLink activeClassName={\"active\"} exact to=\"/\">\n                Search\n              </NavLink>\n            </li>\n            <li>\n              <NavLink activeClassName={\"active\"} to=\"/admin\">\n                Admin\n              </NavLink>\n            </li>\n            <li>\n              <button\n                type=\"button\"\n                onClick={logoutHandler}\n              >\n                Logout\n              </button>\n            </li>\n          </ul>\n        )}\n      </nav>\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import  classes from \"./Spinner.module.css\"\n\nconst Spinner = () => {\nreturn <div className={classes.loader}>Loading...</div>\n}\n\nexport default Spinner;","import { useState, useRef, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ErrorModal from \"../ErrorModal\";\nimport Spinner from \"../Spinner\";\nimport AuthContext from \"../Store/Auth-Context\";\nimport classes from \"./AuthForm.module.css\";\n\nconst AuthForm = (props) => {\n  const history = useHistory();\n  const usernameInputRef = useRef();\n  const passwordInputRef = useRef();\n  const authCtx = useContext(AuthContext);\n\n  const [isLogin, setIsLogin] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  console.log(\"isLogin \", isLogin);\n\n  const switchAuthModeHandler = () => {\n    setIsLogin((prevState) => !prevState);\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    const enteredUsername = usernameInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n\n    // optional: add validation\n    if (isLogin) {\n      setIsLoading(true);\n      // if isLogin is true, then authenticate existing user\n      fetch(`https://store-item-restful-api.herokuapp.com/auth`, {\n        method: \"POST\",\n        body: JSON.stringify({\n          username: enteredUsername,\n          password: enteredPassword,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n        .then((response) => {\n          console.log(\"response\", response);\n          return response.json(); // return promise\n        })\n        .then((data) => {\n          console.log(\"Auth response \", data, data.description);\n          if (data.description) {\n            throw new Error(data.description);\n          }\n          setTimeout(() => {\n            setIsLoading(false);\n          }, 2000);\n          console.log(\"JWT \", data.access_token);\n          authCtx.login(data.access_token, Date.now() + 3600000); // persist auth token provided by flask backend server\n          history.replace(\"/admin\"); // use history object to call the replace method\n        })\n        .catch((err) => props.setError(err.message));\n    } else {\n      setIsLoading(true);\n      // else if isLogin is false, create new user\n      fetch(`https://store-item-restful-api.herokuapp.com/register`, {\n        method: \"POST\",\n        body: JSON.stringify({\n          username: enteredUsername,\n          password: enteredPassword,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n        .then((response) => {\n          setIsLoading(false)\n          console.log(\"response\", response);\n          return response.json(); // return promise\n        })\n        .then((data) => {\n          console.log(\"Signup response \", data);\n          if (data.message && data.message !== \"User created succesfully\") {\n            throw new Error(data.message);\n          }\n          history.replace(\"/login\");\n          switchAuthModeHandler();\n          alert(\"User created succesfully. Please login!\")\n          \n        })\n        .catch((err) => props.setError(err.message));\n    }\n  };\n\n  let displayErrorModal;\n\n  if (props.error) {\n    displayErrorModal = (\n      <ErrorModal\n        setError={props.errorHandler}\n        message={props.error}\n      ></ErrorModal>\n    );\n  } else {\n    displayErrorModal = null;\n  }\n\n  return (\n    <div>\n      {displayErrorModal}\n      <h1 className={classes.title}>\n        Login or create new user to add new items or stores\n      </h1>\n      <section className={classes.auth}>\n        <h1>{isLogin ? \"Login\" : \"Sign Up\"}</h1>\n        <form onSubmit={submitHandler}>\n          <div className={classes.control}>\n            <label htmlFor=\"username\">Username</label>\n            <input\n              type=\"username\"\n              id=\"username\"\n              required\n              ref={usernameInputRef}\n            />\n          </div>\n          <div className={classes.control}>\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              required\n              ref={passwordInputRef}\n            />\n          </div>\n          <div className={classes.actions}>\n            {!isLoading && (\n              <button>{isLogin ? \"Login\" : \"Create Account\"}</button>\n            )}\n            {isLoading && <Spinner />}\n            <button\n              type=\"button\"\n              className={classes.toggle}\n              onClick={switchAuthModeHandler}\n            >\n              {isLogin ? \"Create new account\" : \"Login with existing account\"}\n            </button>\n          </div>\n        </form>\n      </section>\n    </div>\n  );\n};\n\nexport default AuthForm;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport Items from \"./components/Items.js\";\nimport ListItems from \"./components/User/ListItems\";\nimport ListAdminForms from \"./components/Admin/ListAdminForms\";\nimport MainHeader from \"./components/MainHeader\";\nimport AuthForm from \"./components/Authentication/AuthForm\";\nimport Spinner from \"./components/Spinner\";\nimport AuthContext from \"./components/Store/Auth-Context\";\n\n\n\nfunction App() {\n  const authCtx = useContext(AuthContext);\n  const [items, setItems] = useState([]);\n  const [storeDropdownList, setStoreDropdownList] = useState([]);\n  const [isStoreListUpdated, setIsStoreListUpdated] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const createItemHandler = (data) => {\n    fetch(`https://store-item-restful-api.herokuapp.com/item/${data.item}`, {\n      method: \"POST\",\n      body: JSON.stringify({\n        item_price: data.item_price,\n        store_id: data.store_id,\n        store_name: data.store,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `JWT ${authCtx.token}`,\n      },\n    })\n      .then((response) => {\n        console.log(\"response\", response);\n        return response.json(); // return promise\n      })\n      .then((data) => {\n        if (data.message) {\n          throw new Error(data.message);\n        }\n        alert(\"New store item created succesfully. You can now search for it!\")\n      })\n      .catch((err) => setError(err.message));\n  };\n\n  useEffect(() => {\n    // UPDATE STORE DROPDOWN LIST SINCE NEW STORE WAS ADDED\n    fetch(`https://store-item-restful-api.herokuapp.com/stores`)\n      .then((response) => {\n        return response.json(); // return promise\n      })\n      .then((data) => {\n        if (data.message) {\n          throw new Error(data.message);\n        }\n        console.log(\"useEffect read stores response\", data.items);\n        setStoreDropdownList(data.items);\n      })\n      .catch((err) => setError(err.message));\n  }, [isStoreListUpdated]);\n\n  const createStoreHandler = (data) => {\n    console.log(data.store);\n    fetch(`https://store-item-restful-api.herokuapp.com/store/${data.store}`, {\n      method: \"POST\",\n      body: null,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `JWT ${authCtx.token}`,\n      },\n    })\n      .then((response) => {\n        setIsStoreListUpdated((prevState) => {\n          return !prevState;\n        });\n        return response.json(); // return promise\n      })\n      .then((data) => {\n        if (data.message) {\n          throw new Error(data.message);\n        }\n        alert(\"New store created succesfully. You can now search for it!\")\n      })\n      .catch((err) => setError(err.message));\n\n    setIsLoading(false);\n    return;\n  };\n\n  const fetchItemsHandler = (data) => {\n    let arr = [];\n    console.log(data);\n    setIsLoading(true);\n    setError(null);\n    if (data.store.trim().length == 0 && data.item.trim().length == 0) {\n      setError(\"Enter an item to check across all stores\");\n      setIsLoading(false);\n    }\n    // the input to fetchItemsHandler is passed from components UserForm.js -> ListItems.js -> App.js\n\n    // a store and item value were entered by the user\n    if (data.store.trim().length > 0 && data.item.trim().length > 0) {\n      console.log(\"a store and item value were entered by the user\");\n      fetch(`https://store-item-restful-api.herokuapp.com/store/${data.store}/${data.item}`)\n        .then((response) => {\n          console.log(\"response\", response);\n          return response.json(); // return promise\n        })\n        .then((data) => {\n          if (data.message) {\n            throw new Error(data.message);\n          }\n\n          arr.push(data);\n          setItems(arr);\n          console.log(items);\n        })\n        .catch((err) => setError(err.message));\n\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 2000);\n\n      console.log(\"Displaying items state\", items);\n      return;\n    }\n    // only a store value was entered by the user\n    if (data.store.trim().length > 0 && data.item.trim().length == 0) {\n      console.log(\"only a store value was entered by the user\", data.store);\n      fetch(`https://store-item-restful-api.herokuapp.com/store/${data.store}`)\n        .then((response) => {\n          console.log(\"response\", response);\n          return response.json(); // return promise\n        })\n        .then((data) => {\n          if (data.message) {\n            throw new Error(data.message);\n          }\n\n          console.log(data);\n          setItems(data.items);\n        })\n        .catch((err) => setError(err.message));\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 2000);\n      // setIsLoading(false)\n      console.log(\"Displaying items state\", items);\n      return;\n    }\n    // only an item value was entered by the user\n    if (data.store.trim().length == 0 && data.item.trim().length > 0) {\n      console.log(\"only an item value was entered by the user\");\n      fetch(`https://store-item-restful-api.herokuapp.com/item/${data.item}`)\n        .then((response) => {\n          console.log(\"response\", response);\n          return response.json(); // return promise\n        })\n        .then((data) => {\n          if (data.message) {\n            throw new Error(data.message);\n          }\n\n          console.log(data);\n          setItems(data);\n        })\n        .catch((err) => setError(err.message));\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 2000);\n      // setIsLoading(false)\n      console.log(\"Displaying items state\", items);\n      return;\n    }\n\n    return;\n  };\n\n  console.log(\"Updated store dropdown list\", storeDropdownList);\n  const errorHandler = () => {\n    setError(null);\n  };\n\n  return (\n    <div>\n      <MainHeader />\n      <main>\n        <Route exact path=\"/\">\n          <div>\n            <ListItems\n              setError={errorHandler}\n              error={error}\n              storeNameList={storeDropdownList}\n              onAddItems={fetchItemsHandler}\n            />\n            {!isLoading && items.length > 0 && <Items items={items} />}\n            {!isLoading && items.length === 0 && !error && (\n              <p>Found no items</p>\n            )}\n            {isLoading && <Spinner />}\n            {!isLoading && error && <p>{error}</p>}\n          </div>\n        </Route>\n\n        {!authCtx.isLoggedIn && (\n          <Route path=\"/login\">\n            <AuthForm\n              error={error}\n              setError={setError}\n              errorHandler={errorHandler}\n            />\n          </Route>\n        )}\n\n        {authCtx.isLoggedIn && (\n          <Route path=\"/admin\">\n            <ListAdminForms\n              setError={errorHandler}\n              error={error}\n              createItemHandler={createItemHandler}\n              stores={storeDropdownList}\n              createStoreHandler={createStoreHandler}\n            ></ListAdminForms>\n          </Route>\n        )}\n\n        {authCtx.isLoggedIn && (\n          <Route path=\"*\">\n            <Redirect to=\"/admin\" />\n          </Route>\n        )}\n\n        {!authCtx.isLoggedIn && (\n          <Route path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { AuthContextProvider } from \"./components/Store/Auth-Context\";\n\n// this index.js file is executed first\n\n// the ReactDOM object\nReactDOM.render(\n  <AuthContextProvider>\n    <React.StrictMode>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </React.StrictMode>\n  </AuthContextProvider>,\n  document.getElementById(\"root\") // document object allows you to target elements\n  // in this case, we are rendering the App component inside of the root div in Index.html\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}